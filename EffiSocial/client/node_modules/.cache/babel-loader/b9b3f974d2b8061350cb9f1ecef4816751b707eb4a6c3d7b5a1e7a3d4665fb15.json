{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport { io } from 'socket.io-client';\nconst useSocket = userId => {\n  _s();\n  const socketRef = useRef(null);\n  useEffect(() => {\n    if (!userId) return;\n    socketRef.current = io('http://localhost:5000', {\n      transports: ['websocket'],\n      withCredentials: true\n    });\n\n    // Connect user\n    if (userId) {\n      socketRef.current.emit('join', userId);\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (userId) {\n        socketRef.current.emit('leave', userId);\n      }\n      socketRef.current.disconnect();\n    };\n  }, [userId]);\n  return socketRef.current;\n};\n_s(useSocket, \"8c0rAI93JE8jpOVTnobt43KkFfY=\");\nexport default useSocket;","map":{"version":3,"names":["useEffect","useRef","io","useSocket","userId","_s","socketRef","current","transports","withCredentials","emit","disconnect"],"sources":["C:/Users/katzi/OneDrive/מסמכים/New folder (2)/SocialNetwork/EffiSocial/client/src/hooks/useSocket.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst useSocket = (userId) => {\r\n  const socketRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n    socketRef.current = io('http://localhost:5000', {\r\n      transports: ['websocket'],\r\n      withCredentials: true\r\n    });\r\n\r\n    // Connect user\r\n    if (userId) {\r\n      socketRef.current.emit('join', userId);\r\n    }\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      if (userId) {\r\n        socketRef.current.emit('leave', userId);\r\n      }\r\n      socketRef.current.disconnect();\r\n    };\r\n  }, [userId]);\r\n\r\n  return socketRef.current;\r\n};\r\n\r\nexport default useSocket; "],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,SAAS,GAAIC,MAAM,IAAK;EAAAC,EAAA;EAC5B,MAAMC,SAAS,GAAGL,MAAM,CAAC,IAAI,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,IAAI,CAACI,MAAM,EAAE;IACbE,SAAS,CAACC,OAAO,GAAGL,EAAE,CAAC,uBAAuB,EAAE;MAC9CM,UAAU,EAAE,CAAC,WAAW,CAAC;MACzBC,eAAe,EAAE;IACnB,CAAC,CAAC;;IAEF;IACA,IAAIL,MAAM,EAAE;MACVE,SAAS,CAACC,OAAO,CAACG,IAAI,CAAC,MAAM,EAAEN,MAAM,CAAC;IACxC;;IAEA;IACA,OAAO,MAAM;MACX,IAAIA,MAAM,EAAE;QACVE,SAAS,CAACC,OAAO,CAACG,IAAI,CAAC,OAAO,EAAEN,MAAM,CAAC;MACzC;MACAE,SAAS,CAACC,OAAO,CAACI,UAAU,CAAC,CAAC;IAChC,CAAC;EACH,CAAC,EAAE,CAACP,MAAM,CAAC,CAAC;EAEZ,OAAOE,SAAS,CAACC,OAAO;AAC1B,CAAC;AAACF,EAAA,CAzBIF,SAAS;AA2Bf,eAAeA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}