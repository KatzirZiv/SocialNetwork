{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\katzi\\\\OneDrive\\\\\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD\\\\New folder (2)\\\\SocialNetwork\\\\EffiSocial\\\\client\\\\src\\\\components\\\\AddFriend.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useMutation } from '@tanstack/react-query';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, TextField, Button, List, ListItem, ListItemAvatar, ListItemText, Avatar, IconButton, Paper, Typography, CircularProgress, Alert, Snackbar } from '@mui/material';\nimport { Person as PersonIcon, PersonAdd as PersonAddIcon, Cancel as CancelIcon, Check as CheckIcon } from '@mui/icons-material';\nimport { users } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport useNotifications from '../hooks/useNotifications';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddFriend = () => {\n  _s();\n  var _searchResults$data;\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const {\n    fetchNotifications\n  } = useNotifications((user === null || user === void 0 ? void 0 : user._id) || (user === null || user === void 0 ? void 0 : user.id));\n\n  // Search users\n  const searchMutation = useMutation({\n    mutationFn: async query => {\n      const response = await users.search(query);\n      return response;\n    },\n    onSuccess: data => {\n      setSearchResults(data);\n      setError(null);\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error searching users');\n    }\n  });\n\n  // Debounced search effect\n  useEffect(() => {\n    setError(null); // Clear error on new search\n    setSuccess(null);\n    const timer = setTimeout(() => {\n      if (searchQuery.trim().length >= 3) {\n        setLoading(true);\n        searchMutation.mutate(searchQuery, {\n          onSettled: () => {\n            setLoading(false);\n          }\n        });\n      }\n    }, 500);\n    return () => clearTimeout(timer);\n  }, [searchQuery]);\n\n  // Send/cancel/accept friend request mutations\n  const sendRequestMutation = useMutation({\n    mutationFn: async userId => {\n      const response = await users.sendFriendRequest(userId);\n      return response;\n    },\n    onSuccess: () => {\n      if (searchQuery) searchMutation.mutate(searchQuery);\n      fetchNotifications();\n      setSuccess('Friend request sent!');\n      setTimeout(() => setSuccess(null), 2000);\n    },\n    onError: error => {\n      setError(error.message || 'Error sending friend request');\n      setTimeout(() => setError(null), 3000);\n    }\n  });\n  const cancelRequestMutation = useMutation({\n    mutationFn: async requestId => {\n      return await users.cancelFriendRequest(requestId);\n    },\n    onSuccess: () => {\n      if (searchQuery) searchMutation.mutate(searchQuery);\n      fetchNotifications();\n      setSuccess('Friend request cancelled.');\n      setTimeout(() => setSuccess(null), 2000);\n    },\n    onError: error => {\n      setError(error.message || 'Error cancelling friend request');\n      setTimeout(() => setError(null), 3000);\n    }\n  });\n  const acceptRequestMutation = useMutation({\n    mutationFn: async requestId => {\n      return await users.acceptFriendRequest(requestId);\n    },\n    onSuccess: () => {\n      if (searchQuery) searchMutation.mutate(searchQuery);\n      fetchNotifications();\n      setSuccess('Friend request accepted!');\n      setTimeout(() => setSuccess(null), 2000);\n    },\n    onError: error => {\n      setError(error.message || 'Error accepting friend request');\n      setTimeout(() => setError(null), 3000);\n    }\n  });\n\n  // Refetch search results after friend request mutation succeeds\n  useEffect(() => {\n    if (sendRequestMutation.isSuccess || cancelRequestMutation.isSuccess || acceptRequestMutation.isSuccess) {\n      if (searchQuery.trim().length >= 3) {\n        searchMutation.mutate(searchQuery);\n      }\n      sendRequestMutation.reset && sendRequestMutation.reset();\n      cancelRequestMutation.reset && cancelRequestMutation.reset();\n      acceptRequestMutation.reset && acceptRequestMutation.reset();\n    }\n  }, [sendRequestMutation.isSuccess, cancelRequestMutation.isSuccess, acceptRequestMutation.isSuccess]);\n\n  // Filter out current user from search results\n  const usersList = (searchResults === null || searchResults === void 0 ? void 0 : (_searchResults$data = searchResults.data) === null || _searchResults$data === void 0 ? void 0 : _searchResults$data.filter(searchUser => {\n    const isNotCurrentUser = searchUser._id !== ((user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id));\n    return isNotCurrentUser;\n  })) || [];\n\n  // Button logic using only backend fields\n  const getFriendButtonState = searchUser => {\n    if (searchUser.isFriend) {\n      return {\n        type: 'icon',\n        disabled: true,\n        icon: /*#__PURE__*/_jsxDEV(CheckIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 15\n        }, this),\n        color: 'success',\n        sx: {\n          width: '40px',\n          height: '40px',\n          borderRadius: '50%',\n          border: '1px solid',\n          borderColor: 'success.main',\n          color: 'success.main',\n          '&:hover': {\n            backgroundColor: 'success.light',\n            borderColor: 'success.main'\n          },\n          padding: '0'\n        }\n      };\n    } else if (searchUser.outgoingFriendRequestId) {\n      return {\n        type: 'button',\n        text: 'Cancel Request',\n        disabled: cancelRequestMutation.isLoading,\n        icon: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 98\n        }, this),\n        color: 'error',\n        variant: 'outlined',\n        sx: {\n          minWidth: '120px',\n          borderRadius: '20px',\n          textTransform: 'none',\n          fontWeight: 500,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: '4px',\n          px: '12px'\n        }\n      };\n    } else if (searchUser.incomingFriendRequestId) {\n      return {\n        type: 'button',\n        text: 'Accept',\n        disabled: acceptRequestMutation.isLoading,\n        icon: /*#__PURE__*/_jsxDEV(PersonAddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 90\n        }, this),\n        color: 'primary',\n        variant: 'contained',\n        sx: {\n          minWidth: '100px',\n          borderRadius: '20px',\n          textTransform: 'none',\n          fontWeight: 500,\n          borderColor: 'primary.main',\n          color: 'primary.main',\n          '&:hover': {\n            backgroundColor: 'primary.light',\n            borderColor: 'primary.main'\n          },\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: '4px',\n          px: '12px'\n        }\n      };\n    } else {\n      return {\n        type: 'button',\n        text: 'Add Friend',\n        disabled: sendRequestMutation.isLoading,\n        icon: /*#__PURE__*/_jsxDEV(PersonAddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 92\n        }, this),\n        color: 'primary',\n        variant: 'contained',\n        sx: {\n          minWidth: '120px',\n          borderRadius: '20px',\n          textTransform: 'none',\n          fontWeight: 500,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: '4px',\n          px: '12px'\n        }\n      };\n    }\n  };\n\n  // Button actions\n  const handleSendOrCancelRequest = async searchUser => {\n    if (searchUser.outgoingFriendRequestId) {\n      try {\n        await cancelRequestMutation.mutateAsync(searchUser.outgoingFriendRequestId);\n      } catch (error) {\n        // error handled by mutation\n      }\n    } else if (searchUser.incomingFriendRequestId) {\n      try {\n        await acceptRequestMutation.mutateAsync(searchUser.incomingFriendRequestId);\n      } catch (error) {\n        // error handled by mutation\n      }\n    } else {\n      try {\n        await sendRequestMutation.mutateAsync(searchUser._id);\n      } catch (error) {\n        // error handled by mutation\n      }\n    }\n  };\n  const handleProfileClick = userId => {\n    navigate(`/profile/${userId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 0,\n      sx: {\n        p: 2,\n        mb: 2,\n        backgroundColor: 'transparent'\n      },\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        variant: \"outlined\",\n        placeholder: \"Search users...\",\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value),\n        InputProps: {\n          startAdornment: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              color: 'text.secondary',\n              mr: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this),\n          sx: {\n            borderRadius: '20px',\n            backgroundColor: 'background.paper',\n            '& .MuiOutlinedInput-notchedOutline': {\n              borderColor: 'divider'\n            },\n            '&:hover .MuiOutlinedInput-notchedOutline': {\n              borderColor: 'primary.main'\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!success,\n      autoHideDuration: 2000,\n      onClose: () => setSuccess(null),\n      message: success,\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        p: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }, this) : searchQuery.length >= 3 ? /*#__PURE__*/_jsxDEV(List, {\n      sx: {\n        bgcolor: 'background.paper',\n        borderRadius: '12px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\n      },\n      children: usersList.map(searchUser => {\n        const buttonState = getFriendButtonState(searchUser);\n        return /*#__PURE__*/_jsxDEV(ListItem, {\n          sx: {\n            borderBottom: '1px solid',\n            borderColor: 'divider',\n            '&:last-child': {\n              borderBottom: 'none'\n            },\n            py: 1.5,\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          secondaryAction: buttonState.type === 'icon' ? /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => handleSendOrCancelRequest(searchUser),\n            disabled: buttonState.disabled,\n            color: buttonState.color,\n            sx: buttonState.sx,\n            children: buttonState.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: buttonState.variant,\n            size: \"small\",\n            startIcon: buttonState.icon,\n            onClick: () => handleSendOrCancelRequest(searchUser),\n            disabled: buttonState.disabled,\n            color: buttonState.color,\n            sx: buttonState.sx,\n            children: buttonState.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 21\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              src: searchUser.profilePicture ? `http://localhost:5000${searchUser.profilePicture}` : undefined,\n              alt: searchUser.username,\n              onClick: () => handleProfileClick(searchUser._id),\n              sx: {\n                cursor: 'pointer',\n                width: 48,\n                height: 48,\n                border: '2px solid',\n                borderColor: 'divider',\n                '&:hover': {\n                  borderColor: 'primary.main'\n                },\n                marginRight: '16px'\n              },\n              children: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: /*#__PURE__*/_jsxDEV(Typography, {\n              component: \"span\",\n              onClick: () => handleProfileClick(searchUser._id),\n              sx: {\n                cursor: 'pointer',\n                fontWeight: 500,\n                '&:hover': {\n                  color: 'primary.main',\n                  textDecoration: 'underline'\n                },\n                flexGrow: 1,\n                flexShrink: 1,\n                minWidth: 0,\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                marginRight: '8px'\n              },\n              children: searchUser.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 17\n          }, this)]\n        }, searchUser._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n_s(AddFriend, \"V/buSNlC17TSu53YqLAIEVs2Ftc=\", false, function () {\n  return [useAuth, useNavigate, useNotifications, useMutation, useMutation, useMutation, useMutation];\n});\n_c = AddFriend;\nexport default AddFriend;\nvar _c;\n$RefreshReg$(_c, \"AddFriend\");","map":{"version":3,"names":["React","useState","useEffect","useMutation","useNavigate","Box","TextField","Button","List","ListItem","ListItemAvatar","ListItemText","Avatar","IconButton","Paper","Typography","CircularProgress","Alert","Snackbar","Person","PersonIcon","PersonAdd","PersonAddIcon","Cancel","CancelIcon","Check","CheckIcon","users","useAuth","useNotifications","jsxDEV","_jsxDEV","AddFriend","_s","_searchResults$data","user","navigate","searchQuery","setSearchQuery","searchResults","setSearchResults","loading","setLoading","error","setError","success","setSuccess","fetchNotifications","_id","id","searchMutation","mutationFn","query","response","search","onSuccess","data","onError","_error$response","_error$response$data","timer","setTimeout","trim","length","mutate","onSettled","clearTimeout","sendRequestMutation","userId","sendFriendRequest","message","cancelRequestMutation","requestId","cancelFriendRequest","acceptRequestMutation","acceptFriendRequest","isSuccess","reset","usersList","filter","searchUser","isNotCurrentUser","getFriendButtonState","isFriend","type","disabled","icon","fileName","_jsxFileName","lineNumber","columnNumber","color","sx","width","height","borderRadius","border","borderColor","backgroundColor","padding","outgoingFriendRequestId","text","isLoading","variant","minWidth","textTransform","fontWeight","display","alignItems","justifyContent","gap","px","incomingFriendRequestId","handleSendOrCancelRequest","mutateAsync","handleProfileClick","p","children","elevation","mb","fullWidth","placeholder","value","onChange","e","target","InputProps","startAdornment","mr","severity","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","bgcolor","boxShadow","map","buttonState","borderBottom","py","secondaryAction","onClick","size","startIcon","src","profilePicture","undefined","alt","username","cursor","marginRight","primary","component","textDecoration","flexGrow","flexShrink","whiteSpace","overflow","textOverflow","_c","$RefreshReg$"],"sources":["C:/Users/katzi/OneDrive/מסמכים/New folder (2)/SocialNetwork/EffiSocial/client/src/components/AddFriend.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useMutation } from '@tanstack/react-query';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  TextField,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Avatar,\r\n  IconButton,\r\n  Paper,\r\n  Typography,\r\n  CircularProgress,\r\n  Alert,\r\n  Snackbar,\r\n} from '@mui/material';\r\nimport {\r\n  Person as PersonIcon,\r\n  PersonAdd as PersonAddIcon,\r\n  Cancel as CancelIcon,\r\n  Check as CheckIcon,\r\n} from '@mui/icons-material';\r\nimport { users } from '../services/api';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport useNotifications from '../hooks/useNotifications';\r\n\r\nconst AddFriend = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const { fetchNotifications } = useNotifications(user?._id || user?.id);\r\n\r\n  // Search users\r\n  const searchMutation = useMutation({\r\n    mutationFn: async (query) => {\r\n      const response = await users.search(query);\r\n      return response;\r\n    },\r\n    onSuccess: (data) => {\r\n      setSearchResults(data);\r\n      setError(null);\r\n    },\r\n    onError: (error) => {\r\n      setError(error.response?.data?.error || 'Error searching users');\r\n    }\r\n  });\r\n\r\n  // Debounced search effect\r\n  useEffect(() => {\r\n    setError(null); // Clear error on new search\r\n    setSuccess(null);\r\n    const timer = setTimeout(() => {\r\n      if (searchQuery.trim().length >= 3) {\r\n        setLoading(true);\r\n        searchMutation.mutate(searchQuery, {\r\n          onSettled: () => {\r\n            setLoading(false);\r\n          }\r\n        });\r\n      }\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n  }, [searchQuery]);\r\n\r\n  // Send/cancel/accept friend request mutations\r\n  const sendRequestMutation = useMutation({\r\n    mutationFn: async (userId) => {\r\n      const response = await users.sendFriendRequest(userId);\r\n      return response;\r\n    },\r\n    onSuccess: () => {\r\n      if (searchQuery) searchMutation.mutate(searchQuery);\r\n      fetchNotifications();\r\n      setSuccess('Friend request sent!');\r\n      setTimeout(() => setSuccess(null), 2000);\r\n    },\r\n    onError: (error) => {\r\n      setError(error.message || 'Error sending friend request');\r\n      setTimeout(() => setError(null), 3000);\r\n    }\r\n  });\r\n\r\n  const cancelRequestMutation = useMutation({\r\n    mutationFn: async (requestId) => {\r\n      return await users.cancelFriendRequest(requestId);\r\n    },\r\n    onSuccess: () => {\r\n      if (searchQuery) searchMutation.mutate(searchQuery);\r\n      fetchNotifications();\r\n      setSuccess('Friend request cancelled.');\r\n      setTimeout(() => setSuccess(null), 2000);\r\n    },\r\n    onError: (error) => {\r\n      setError(error.message || 'Error cancelling friend request');\r\n      setTimeout(() => setError(null), 3000);\r\n    }\r\n  });\r\n\r\n  const acceptRequestMutation = useMutation({\r\n    mutationFn: async (requestId) => {\r\n      return await users.acceptFriendRequest(requestId);\r\n    },\r\n    onSuccess: () => {\r\n      if (searchQuery) searchMutation.mutate(searchQuery);\r\n      fetchNotifications();\r\n      setSuccess('Friend request accepted!');\r\n      setTimeout(() => setSuccess(null), 2000);\r\n    },\r\n    onError: (error) => {\r\n      setError(error.message || 'Error accepting friend request');\r\n      setTimeout(() => setError(null), 3000);\r\n    }\r\n  });\r\n\r\n  // Refetch search results after friend request mutation succeeds\r\n  useEffect(() => {\r\n    if (sendRequestMutation.isSuccess || cancelRequestMutation.isSuccess || acceptRequestMutation.isSuccess) {\r\n      if (searchQuery.trim().length >= 3) {\r\n        searchMutation.mutate(searchQuery);\r\n      }\r\n      sendRequestMutation.reset && sendRequestMutation.reset();\r\n      cancelRequestMutation.reset && cancelRequestMutation.reset();\r\n      acceptRequestMutation.reset && acceptRequestMutation.reset();\r\n    }\r\n  }, [sendRequestMutation.isSuccess, cancelRequestMutation.isSuccess, acceptRequestMutation.isSuccess]);\r\n\r\n  // Filter out current user from search results\r\n  const usersList = searchResults?.data?.filter(searchUser => {\r\n    const isNotCurrentUser = searchUser._id !== (user?.id || user?._id);\r\n    return isNotCurrentUser;\r\n  }) || [];\r\n\r\n  // Button logic using only backend fields\r\n  const getFriendButtonState = (searchUser) => {\r\n    if (searchUser.isFriend) {\r\n      return {\r\n        type: 'icon',\r\n        disabled: true,\r\n        icon: <CheckIcon />, color: 'success',\r\n        sx: {\r\n          width: '40px', height: '40px', borderRadius: '50%', border: '1px solid', borderColor: 'success.main', color: 'success.main',\r\n          '&:hover': { backgroundColor: 'success.light', borderColor: 'success.main' }, padding: '0',\r\n        }\r\n      };\r\n    } else if (searchUser.outgoingFriendRequestId) {\r\n      return {\r\n        type: 'button', text: 'Cancel Request', disabled: cancelRequestMutation.isLoading, icon: <CancelIcon />, color: 'error', variant: 'outlined',\r\n        sx: { minWidth: '120px', borderRadius: '20px', textTransform: 'none', fontWeight: 500, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '4px', px: '12px' }\r\n      };\r\n    } else if (searchUser.incomingFriendRequestId) {\r\n      return {\r\n        type: 'button', text: 'Accept', disabled: acceptRequestMutation.isLoading, icon: <PersonAddIcon />, color: 'primary', variant: 'contained',\r\n        sx: { minWidth: '100px', borderRadius: '20px', textTransform: 'none', fontWeight: 500, borderColor: 'primary.main', color: 'primary.main', '&:hover': { backgroundColor: 'primary.light', borderColor: 'primary.main' }, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '4px', px: '12px' }\r\n      };\r\n    } else {\r\n      return {\r\n        type: 'button', text: 'Add Friend', disabled: sendRequestMutation.isLoading, icon: <PersonAddIcon />, color: 'primary', variant: 'contained',\r\n        sx: { minWidth: '120px', borderRadius: '20px', textTransform: 'none', fontWeight: 500, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '4px', px: '12px' }\r\n      };\r\n    }\r\n  };\r\n\r\n  // Button actions\r\n  const handleSendOrCancelRequest = async (searchUser) => {\r\n    if (searchUser.outgoingFriendRequestId) {\r\n      try {\r\n        await cancelRequestMutation.mutateAsync(searchUser.outgoingFriendRequestId);\r\n      } catch (error) {\r\n        // error handled by mutation\r\n      }\r\n    } else if (searchUser.incomingFriendRequestId) {\r\n      try {\r\n        await acceptRequestMutation.mutateAsync(searchUser.incomingFriendRequestId);\r\n      } catch (error) {\r\n        // error handled by mutation\r\n      }\r\n    } else {\r\n      try {\r\n        await sendRequestMutation.mutateAsync(searchUser._id);\r\n      } catch (error) {\r\n        // error handled by mutation\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleProfileClick = (userId) => {\r\n    navigate(`/profile/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 2 }}>\r\n      <Paper elevation={0} sx={{ p: 2, mb: 2, backgroundColor: 'transparent' }}>\r\n        <TextField\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          placeholder=\"Search users...\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <Box sx={{ color: 'text.secondary', mr: 1 }}>\r\n                <PersonIcon />\r\n              </Box>\r\n            ),\r\n            sx: {\r\n              borderRadius: '20px', backgroundColor: 'background.paper',\r\n              '& .MuiOutlinedInput-notchedOutline': { borderColor: 'divider' },\r\n              '&:hover .MuiOutlinedInput-notchedOutline': { borderColor: 'primary.main' },\r\n            },\r\n          }}\r\n        />\r\n      </Paper>\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>\r\n      )}\r\n      <Snackbar\r\n        open={!!success}\r\n        autoHideDuration={2000}\r\n        onClose={() => setSuccess(null)}\r\n        message={success}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n      />\r\n      {loading ? (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', p: 2 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      ) : searchQuery.length >= 3 ? (\r\n        <List sx={{ bgcolor: 'background.paper', borderRadius: '12px', boxShadow: '0 2px 4px rgba(0,0,0,0.05)' }}>\r\n          {usersList.map((searchUser) => {\r\n            const buttonState = getFriendButtonState(searchUser);\r\n            return (\r\n              <ListItem\r\n                key={searchUser._id}\r\n                sx={{ borderBottom: '1px solid', borderColor: 'divider', '&:last-child': { borderBottom: 'none' }, py: 1.5, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}\r\n                secondaryAction={\r\n                  buttonState.type === 'icon' ? (\r\n                    <IconButton\r\n                      onClick={() => handleSendOrCancelRequest(searchUser)}\r\n                      disabled={buttonState.disabled}\r\n                      color={buttonState.color}\r\n                      sx={buttonState.sx}\r\n                    >\r\n                      {buttonState.icon}\r\n                    </IconButton>\r\n                  ) : (\r\n                    <Button\r\n                      variant={buttonState.variant}\r\n                      size=\"small\"\r\n                      startIcon={buttonState.icon}\r\n                      onClick={() => handleSendOrCancelRequest(searchUser)}\r\n                      disabled={buttonState.disabled}\r\n                      color={buttonState.color}\r\n                      sx={buttonState.sx}\r\n                    >\r\n                      {buttonState.text}\r\n                    </Button>\r\n                  )\r\n                }\r\n              >\r\n                <ListItemAvatar>\r\n                  <Avatar\r\n                    src={searchUser.profilePicture ? `http://localhost:5000${searchUser.profilePicture}` : undefined}\r\n                    alt={searchUser.username}\r\n                    onClick={() => handleProfileClick(searchUser._id)}\r\n                    sx={{ cursor: 'pointer', width: 48, height: 48, border: '2px solid', borderColor: 'divider', '&:hover': { borderColor: 'primary.main' }, marginRight: '16px' }}\r\n                  >\r\n                    <PersonIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                  primary={\r\n                    <Typography\r\n                      component=\"span\"\r\n                      onClick={() => handleProfileClick(searchUser._id)}\r\n                      sx={{ cursor: 'pointer', fontWeight: 500, '&:hover': { color: 'primary.main', textDecoration: 'underline' }, flexGrow: 1, flexShrink: 1, minWidth: 0, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', marginRight: '8px' }}\r\n                    >\r\n                      {searchUser.username}\r\n                    </Typography>\r\n                  }\r\n                />\r\n              </ListItem>\r\n            );\r\n          })}\r\n        </List>\r\n      ) : null}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AddFriend; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}